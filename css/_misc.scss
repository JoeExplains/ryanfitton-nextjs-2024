/*
    Misc fixes
*/

//Fix for Kbar Pliny background search button blur
//https://github.com/timlrx/pliny/blob/main/packages/pliny/src/search/KBarModal.tsx
//Limited CSS support so need to target the div somehow to fix the z-index
div[class*='backdrop-blur backdrop-filter'] {
  //Above the Homepage Video header
  @apply z-3;
}

//Prose style fixes using `prose dark:prose-invert` in HTML and Sas
//Docs: https://github.com/tailwindlabs/tailwindcss-typography
//https://github.com/tailwindlabs/tailwindcss/discussions/16232
//https://github.com/tailwindlabs/tailwindcss/discussions/15670
@utility prose {
    --tw-prose-headings: var(--color-typography-heading);
    --tw-prose-lead: var(--color-typography-default);
    --tw-prose-links: var(--color-typography-link);
    --tw-prose-bold: var(--color-typography-default);

    //Dark mode colours
    --tw-prose-invert-headings: var(--color-typography-heading);
    --tw-prose-invert-lead: var(--color-typography-default);
    --tw-prose-invert-links: var(--color-typography-link);
    --tw-prose-invert-bold: var(--color-typography-default);
    --tw-prose-invert-code: var(--color-typography-white);
    --tw-prose-invert-pre-code: var(--color-typography-white);
}

//For prose on `<code>` and `<pre>` blocks in prose
code,
pre {
    @apply font-mono;
    @apply font-normal!;
    @apply text-lg!;
}
pre code{
    @apply text-sm!;
}

//Fix to prevent Disqus colour scheme breaking the layout in dark mode
//Discussion: https://github.com/timlrx/tailwind-nextjs-starter-blog/issues/754#issuecomment-2317476300
#disqus_thread {
  color-scheme: none;
}
